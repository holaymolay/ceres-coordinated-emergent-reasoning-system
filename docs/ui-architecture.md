# CERES UI Layer (Read-Only Scaffold)

This document defines the UI architecture, data contracts, and component layout for a governed CERES UI. The UI consumes CERES artifacts only and never mutates state.

## UI Architecture Diagram (Text)

```
[CERES Artifacts] --> [UI Data Loader] --> [View Components] --> [Read-Only UI]

Artifacts:
- Planner outputs (task_graph.json, concept_map.json, required_syncs.json)
- Arbitration decision log (logs/arbitration-decision.json)
- Concept graph snapshot (logs/concept-graph.json)
- Enforcement events (logs/events.jsonl)
```

## Data Contracts (per View)

### Planning View
Consumes JSON artifacts generated by the Planner (Prompt 5):
- `task_graph.json`
  - `tasks[]`: `{ task_id, description, depends_on?, type?, priority?, timestamp? }`
  - `edges[]`: `{ from, to }`
- `concept_map.json`
  - `tasks[]`: `{ task_id, concept }`
- `required_syncs.json`
  - `synchronizations[]`: `{ sync_id, from_concept, to_concept, status, reason? }`

The UI renders tasks, Concept mappings, and required Synchronizations. Missing artifacts show a placeholder.

### Arbitration View
Consumes the arbitrator output JSON:
- `logs/arbitration-decision.json`
  - `order[]`: ordered task IDs
  - `accepted[]`: `{ task_id, concept, type, priority, timestamp }`
  - `blocked[]`: `{ task_id, reasons[] }`
  - `decision_log`: trace for audit

The UI renders the ordered task list and any blocked tasks.

### Concept View
Consumes a concept graph snapshot (optional):
- `logs/concept-graph.json`
  - `concepts[]`: `{ name, dependencies?, synchronizations? }`
  - `edges[]`: `{ from, to, sync? }`

If the artifact is missing, the UI renders a “no concept graph” placeholder.

### Enforcement View
Consumes JSONL observability events:
- `logs/events.jsonl` (from `scripts/log_event.py`)
  - `{ timestamp, type, status, message, context? }`

The UI renders recent enforcement/gate events and failures.

## Component Outline (Scaffold)

- `ui/index.html`: static layout and view containers.
- `ui/app.js`: read-only data loader + renderer for each view.
- `ui/styles.css`: minimal layout styling (no polish).
- `ui/README.md`: run instructions and data-source notes.

## Determinism & Governance Preservation

- UI is read-only and never writes to Concepts, Synchronizations, or artifacts.
- All state changes remain in existing enforcement layers (Planner, Arbitrator, Validators).
- The UI surfaces canonical artifacts without reinterpretation, preserving deterministic system behavior.
- Missing artifacts do not block operation; the UI degrades gracefully.
